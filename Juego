package proyectonenraya;
import java.util.Random;
//importar scanner
import java.util.Scanner;

public class Juego
{
    private Tablero tablero;
    private Jugador jugador1;
    private Jugador jugador2;
    private Jugador jugadorActual;
    
    public Juego(int longitud, Jugador jugador1, Jugador jugador2) 
    {
        this.tablero = new Tablero(param);
        this.jugador1 = jugador1;
        this.jugador2 = jugador2;
        jugador1.setTurno(true);
        jugador2.setTurno(false);
    }
    
    //SCANNER "LEER"
    static Scanner leer= new Scanner(System.in);
    
    // Método para elegir turno
    public void elegirTurno() 
    {
        Random random = new Random();
        boolean turnoJugador1 = random.nextBoolean();
        jugadorActual = turnoJugador1 ? jugador1 : jugador2;
        
       // System.out.println("¿Qúe jugador va a empezar la partida?");
       // jugadorActual= leer.();
    }
            
    // Método para cambiar turno
    public void cambiarTurno() 
    {
        jugadorActual = (jugadorActual == jugador1) ? jugador2 : jugador1;
    }
            
    // Método para iniciar el juego
    public void jugar() 
    {
        // variables
        boolean terminado=false;
        Jugador jugadorActual= jugador1;
        // - - -
        
        System.out.println("¡Bienvenido al juego del N en raya!");
        tablero.crearTablero();
        tablero.mostrarTablero();
        
        System.out.println("Comienza " + jugador1.getNombre() + " (X)");
        
        while (terminado) 
        {
            System.out.println("Turno de " + turnoActual.getNombre() + " (" + turnoActual.getSimbolo() + ")");
            System.out.print("Ingrese la fila (0-2): ");
            int fila = leer.nextInt();
            System.out.print("Ingrese la columna (0-2): ");
            int columna = leer.nextInt();

            if (arrayTablero.realizarMovimiento(fila, columna, turnoActual.getSimbolo())) 
            {
                arrayTablero.mostrarTablero();
                char ganador = arrayTablero.verificarGanador();
                if (ganador != '-') 
                {
                    System.out.println("¡" + turnoActual.getNombre() + " ha ganado!");
                    juegoTerminado = true;
                } else if (tableroLleno()) 
                    {
                        System.out.println("¡Empate!");
                        juegoTerminado = true;
                    } else 
                        {
                            // Cambiar de turno
                            if (turnoActual == jugador1) 
                            {
                                turnoActual = jugador2;
                            } else 
                                {
                                    turnoActual = jugador1;
                                }
                        }           
            } else 
                   {
                      System.out.println("Movimiento inválido. Inténtalo de nuevo.");
                   }
        }
    }

    
}
